import{g as K,R as W,r as F,j as G}from"./iframe-DAGdRoOw.js";import{_ as V,a as H,e as J}from"./index-m1JkZ8lu.js";var p={},h={},R={},w;function Q(){return w||(w=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=1,e=function(){return"".concat(t++)};s.default=e})(R)),R}var g={},m={},z={},x;function B(){return x||(x=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,o=null;return function(){for(var c=this,a=arguments.length,i=new Array(a),f=0;f<a;f++)i[f]=arguments[f];clearTimeout(o),o=setTimeout(function(){r.apply(c,i)},n)}};s.default=t})(z)),z}var S={},j;function C(){if(j)return S;j=1,Object.defineProperty(S,"__esModule",{value:!0}),S.SizeSensorId=S.SensorTabIndex=S.SensorClassName=void 0;var s="size-sensor-id";S.SizeSensorId=s;var t="size-sensor-object";S.SensorClassName=t;var e="-1";return S.SensorTabIndex=e,S}var M;function X(){if(M)return m;M=1,Object.defineProperty(m,"__esModule",{value:!0}),m.createSensor=void 0;var s=e(B()),t=C();function e(n){return n&&n.__esModule?n:{default:n}}var r=function(o,c){var a=void 0,i=[],f=function(){getComputedStyle(o).position==="static"&&(o.style.position="relative");var u=document.createElement("object");return u.onload=function(){u.contentDocument.defaultView.addEventListener("resize",d),d()},u.style.display="block",u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.height="100%",u.style.width="100%",u.style.overflow="hidden",u.style.pointerEvents="none",u.style.zIndex="-1",u.style.opacity="0",u.setAttribute("class",t.SensorClassName),u.setAttribute("tabindex",t.SensorTabIndex),u.type="text/html",o.appendChild(u),u.data="about:blank",u},d=(0,s.default)(function(){i.forEach(function(v){v(o)})}),l=function(u){a||(a=f()),i.indexOf(u)===-1&&i.push(u)},y=function(){a&&a.parentNode&&(a.contentDocument&&a.contentDocument.defaultView.removeEventListener("resize",d),a.parentNode.removeChild(a),o.removeAttribute(t.SizeSensorId),a=void 0,i=[],c&&c())},E=function(u){var _=i.indexOf(u);_!==-1&&i.splice(_,1),i.length===0&&a&&y()};return{element:o,bind:l,destroy:y,unbind:E}};return m.createSensor=r,m}var O={},D;function Y(){if(D)return O;D=1,Object.defineProperty(O,"__esModule",{value:!0}),O.createSensor=void 0;var s=C(),t=e(B());function e(n){return n&&n.__esModule?n:{default:n}}var r=function(o,c){var a=void 0,i=[],f=(0,t.default)(function(){i.forEach(function(v){v(o)})}),d=function(){var u=new ResizeObserver(f);return u.observe(o),f(),u},l=function(u){a||(a=d()),i.indexOf(u)===-1&&i.push(u)},y=function(){a.disconnect(),i=[],a=void 0,o.removeAttribute(s.SizeSensorId),c&&c()},E=function(u){var _=i.indexOf(u);_!==-1&&i.splice(_,1),i.length===0&&a&&y()};return{element:o,bind:l,destroy:y,unbind:E}};return O.createSensor=r,O}var N;function Z(){if(N)return g;N=1,Object.defineProperty(g,"__esModule",{value:!0}),g.createSensor=void 0;var s=X(),t=Y(),e=typeof ResizeObserver<"u"?t.createSensor:s.createSensor;return g.createSensor=e,g}var L;function $(){if(L)return h;L=1,Object.defineProperty(h,"__esModule",{value:!0}),h.removeSensor=h.getSensor=h.Sensors=void 0;var s=r(Q()),t=Z(),e=C();function r(i){return i&&i.__esModule?i:{default:i}}var n={};h.Sensors=n;function o(i){i&&n[i]&&delete n[i]}var c=function(f){var d=f.getAttribute(e.SizeSensorId);if(d&&n[d])return n[d];var l=(0,s.default)();f.setAttribute(e.SizeSensorId,l);var y=(0,t.createSensor)(f,function(){return o(l)});return n[l]=y,y};h.getSensor=c;var a=function(f){var d=f.element.getAttribute(e.SizeSensorId);f.destroy(),o(d)};return h.removeSensor=a,h}var A;function k(){if(A)return p;A=1,Object.defineProperty(p,"__esModule",{value:!0}),p.ver=p.clear=p.bind=void 0;var s=$(),t=function(o,c){var a=(0,s.getSensor)(o);return a.bind(c),function(){a.unbind(c)}};p.bind=t;var e=function(o){var c=(0,s.getSensor)(o);(0,s.removeSensor)(c)};p.clear=e;var r="1.0.2";return p.ver=r,p}var P=k();function T(s,t){var e={};return t.forEach(function(r){e[r]=s[r]}),e}function q(s){return typeof s=="function"}function ee(s){return typeof s=="string"}var I,U;function te(){return U||(U=1,I=function s(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,o;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!s(t[n],e[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){var c=o[n];if(!s(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}),I}var re=te();const b=K(re);var ne=(function(s){V(t,s);function t(e){var r=s.call(this,e)||this;return r.echarts=e.echarts,r.ele=null,r.isInitialResize=!0,r}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(e){var r=this.props.shouldSetOption;if(!(q(r)&&!r(e,this.props))){if(!b(e.theme,this.props.theme)||!b(e.opts,this.props.opts)||!b(e.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];b(T(this.props,n),T(e,n))||this.updateEChartsOption(),(!b(e.style,this.props.style)||!b(e.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},t.prototype.dispose=function(){if(this.ele){try{P.clear(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){var e=this,r=this.props,n=r.onEvents,o=r.onChartReady,c=this.updateEChartsOption();this.bindEvents(c,n||{}),q(o)&&o(c),this.ele&&P.bind(this.ele,function(){e.resize()})},t.prototype.bindEvents=function(e,r){function n(c,a){ee(c)&&q(a)&&e.on(c,function(i){a(i,e)})}for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n(o,r[o])},t.prototype.updateEChartsOption=function(){var e=this.props,r=e.option,n=e.notMerge,o=n===void 0?!1:n,c=e.lazyUpdate,a=c===void 0?!1:c,i=e.showLoading,f=e.loadingOption,d=f===void 0?null:f,l=this.getEchartsInstance();return l.setOption(r,o,a),i?l.showLoading(d):l.hideLoading(),l},t.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize()}catch(r){console.warn(r)}this.isInitialResize=!1},t.prototype.render=function(){var e=this,r=this.props,n=r.style,o=r.className,c=o===void 0?"":o,a=H({height:300},n);return W.createElement("div",{ref:function(i){e.ele=i},style:a,className:"echarts-for-react "+c})},t})(F.PureComponent),oe=(function(s){V(t,s);function t(e){var r=s.call(this,e)||this;return r.echarts=J,r}return t})(ne);const se=({option:s,notMerge:t=!1,onChartReady:e=()=>{},onEvents:r,...n})=>{const o=F.useRef(null);return G.jsx(oe,{...n,ref:o,option:s,notMerge:t,onChartReady:e,onEvents:r})};se.__docgenInfo={description:"",methods:[],displayName:"ReactChart",props:{notMerge:{defaultValue:{value:"false",computed:!1},required:!1},onChartReady:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};export{se as R};
